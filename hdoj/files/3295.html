<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3295</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>An interesting mobile game</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 3000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 65535/32768 K (Java/Others)<br>Total Submission(s): 138&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 68<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>XQ,one of the three Sailormoon girls,is usually playing mobile games on the class.Her favorite mobile game is called ¡°The Princess In The Wall¡±.Now she give you a problem about this game.<br>Can you solve it?The following picture show this problem better.<br><center><img src=../../data/images/C251-1008-1.jpg></center><br>This game is played on a rectangular area.This area is divided into some equal square grid..There are N rows and M columns.For each grid,there may be a colored square block or nothing.<br>Each grid has a number.<br>¡°0¡± represents this grid have nothing.<br>¡°1¡± represents this grid have a red square block.<br>¡°2¡± represents this grid have a blue square block.<br>¡°3¡± represents this grid have a green square block.<br>¡°4¡± represents this grid have a yellow square block.<br><br>1.  Each step,when you choose a grid have a colored square block, A group of this block and some connected blocks that are the same color would be removed from the board. no matter how many square blocks are in this group. <br>2. When a group of blocks is removed, the blocks above those removed ones fall down into the empty space. When an entire column of blocks is removed, all the columns to the right of that column shift to the left to fill the empty columns.<br><br>Now give you the number of the row and column and the data of each grid.You should calculate how many steps can make the entire rectangular area have no colored square blocks at least.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There are multiple test cases. Each case starts with two positive integer N, M,(N, M &lt;= 6)the size of rectangular area. Then n lines follow, each contains m positive integers X.(0&lt;= X &lt;= 4)It means this grid have a colored square block or nothing.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>Please output the minimum steps.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">5 6
0 0 0 3 4 4
0 1 1 3 3 3
2 2 1 2 3 3
1 1 1 1 3 3
2 2 1 4 4 4</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">4

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>

0 0 0 3 4 4     0 0 0 4 4 0    0 0 0 0 0 0    0 0 0 0 0 0    0 0 0 0 0 0
0 1 1 3 3 3     0 0 3 3 3 0    0 0 0 0 0 0    0 0 0 0 0 0    0 0 0 0 0 0
2 2 1 2 3 3     0 0 3 3 3 0    0 0 0 0 0 0    0 0 0 0 0 0    0 0 0 0 0 0
1 1 1 1 3 3     2 2 2 3 3 0    2 2 2 4 4 0    2 2 0 0 0 0    0 0 0 0 0 0
2 2 1 4 4 4     2 2 4 4 4 0    2 2 4 4 4 0    2 2 2 0 0 0    0 0 0 0 0 0
</div><i style='font-size:1px'> </i></div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>B.A.C</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2010 ¡°HDU-Sailormoon¡± Programming Contest&source=1&searchmode=source'> 2010 ¡°HDU-Sailormoon¡± Programming Contest </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3295'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3295'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3295">Discuss</a> | <a href='note/note.php?pid=3295'>Note</a><br></td></tr></div></body></html>