<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 1354</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Choose Your Own Adventure</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 65536/32768 K (Java/Others)<br>Total Submission(s): 23&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 9<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>After reading the book Tim and Marc Kill Kenny about fifty zillion times, James decided he'd had it with choose-your-own-adventure stories. No matter what choices he made, it seemed like Kenny always fell down an abandoned mine shaft, got run over by a bus load of nuns, or was messily devoured by stray cats. James eventually found the page with the happy ending (where Kenny saves himself by trapping Tim and Marc between the pizza and the hungry programmers) by flipping through the book, but he can't figure out how to get there by following the rules. Luckily, he owns a C compiler...<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>Input to this problem will consist of a (non-empty) series of up to 100 data sets, each representing a choose-your-own-adventure story. Each data set will be formatted according to the following description, and there will be no blank lines separating data sets. <br><br>The first line contains a single integer n indicating the number of data sets. <br><br>A single data set has 2 components: <br><br>1. Page Count - A line containing a single integer X, where 1 &lt; X &lt; 100, indicating the number of pages in the story.<br>2. Page List - A sequence of X lines, each of which represents a page from the book. Each line has the following components separated from one another by single spaces:<br><ul><li>Line type - A single character indicating what type of line this is. It will represent either a &quot;C&quot; choice page, or an &quot;E&quot; end page. Page 1 is always a choice page.</li><br><li>Text - A string of text surrounded by double quotes. Including the quotes, this component will not exceed 256 characters. The quotes are given for input purposes only and should not be considered part of the text. The text will not contain embedded double quotes.</li><br><li>Choices - Two positive integers from 1 to X indicating the pages where the reader can go from this page. Only choice pages have this component.</li><br><li>Ending Type - Either the text &quot;HAPPY&quot; or &quot;GRISLY&quot;. There will only be one happy ending per story, and only end pages have this component.</li></ul><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each story in the input: <br><br><ul><li>Output a single line, &quot;STORY #&quot; where # is 1 for the first story, 2 for the second story, etc.</li> <br><li>Determine the story that begins on page 1 and ends on the happy ending page. Output the text of this story, printing one &quot;page&quot; of text per line. Note that there is only one such story for each data set. </li></ul><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2
3
C "Arrived at LSU for the contest" 2 3
E "Was devoured by sidewalk ants" GRISLY
E "Won the contest. Received glory and nachos." HAPPY
5
C "Saw a peanut" 3 5
E "Made peanut butter sandwich" HAPPY
C "Found a hammer" 4 2
E "Hit self on head with hammer, ouch!" GRISLY
E "Ate the peanut, choked on it, and died" GRISLY</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">STORY 1
Arrived at LSU for the contest
Won the contest. Received glory and nachos.
STORY 2
Saw a peanut
Found a hammer
Made peanut butter sandwich</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>JGShining</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=1354'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=1354'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=1354">Discuss</a> | <a href='note/note.php?pid=1354'>Note</a><br></td></tr></div></body></html>