<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 1687</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Lucky Light</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 3000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 228&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 61<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>We have a (point) light source at position (xL, yL) with yL &gt; 0, and a finite series of line segments, all of finite non-zero length, given by the coordinates of their two endpoints. These endpoints are all different. The line segments are all situated above the x-axis (y &gt; 0).<br><br>The segments cast their shadows onto the x-axis. We assume that the shadows of two segments either do not overlap at all, or have an overlap that has some non-zero width (they do not just touch). We also assume that for each segment its shadow is more than just one point, i.e., there is no segment that is directed toward the light source. The height of the light source (yL) is at least 1 unit larger than the y-coordinates of the endpoints of the line segments. This guarantees that indeed each line segment has a bounded shadow on the x-axis.<br><br>The collection of shadows divides the x-axis into dark and lighted areas (intervals). The problem is to determine the number of lighted areas ― which is at least 2 (if there is at least one line segment, otherwise it is 1).<br><br>In the picture below the three line segments A, B and C cause three lighted areas, as indicated.<br><br><img src=/data/images/1687_1.jpg><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line of the input file contains a single number: the number of test cases to follow. Each test case has the following format:<br><br>One line with one integer n with 0 ≤ n ≤ 100: the number of line segments.<br>One line with two integers xL and yL, the coordinates of the light source, separated by a single space. The coordinates satisfy -100 ≤ xL ≤ 100 and 1 ≤ yL ≤ 1,000.<br>n lines, each containing four integers xi, yi, ui and vi, separated by single spaces, that specify x- and y-coordinates of the two endpoints (xi, yi) and (ui, vi) of the ith line segment, where -100 ≤ xi, ui ≤ 100 and 0 &lt; yi, vi &lt; yL, for 1 ≤ i ≤ n.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For every test case in the input file, the output should contain a single number, on a single line: the number of lighted areas.<br><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2
3
50 60
55 45 30 35
64 39 92 18
20 30 40 16
2
-10 50
-10 1 10 11
-10 11 10 1</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
2</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=华东区大学生程序设计邀请赛_热身赛&source=1&searchmode=source'> 华东区大学生程序设计邀请赛_热身赛 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=1687'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=1687'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=1687">Discuss</a> | <a href='note/note.php?pid=1687'>Note</a><br></td></tr></div></body></html>