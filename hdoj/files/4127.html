<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 4127</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Flood-it!</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 203&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 67<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Flood-it is a fascinating puzzle game on Google+ platform. The game interface is like follows:<br><center><img src=../../data/images/4127-1.jpg></center> <br>At the beginning of the game, system will randomly generate an N¡ÁN square board and each grid of the board is painted by one of the six colors. The player starts from the top left corner. At each step, he/she selects a color and changes all the grids connected with the top left corner to that specific color. The statement ¡°two grids are connected¡± means that there is a path between the certain two grids under condition that each pair of adjacent grids on this path is in the same color and shares an edge. In this way the player can flood areas of the board from the starting grid (top left corner) until all of the grids are in same color. The following figure shows the earliest steps of a 4¡Á4 game (colors are labeled in 0 to 5):<br><center><img src=../../data/images/4127-2.jpg></center> <br>Given a colored board at very beginning, please find the minimal number of steps to win the game (to change all the grids into a same color). <br><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The input contains no more than 20 test cases. For each test case, the first line contains a single integer N (2&lt;=N&lt;=8) indicating the size of game board.<br><br>The following N lines show an N¡ÁN matrix (a<sub>i,j</sub>)<sub>n¡Án</sub> representing the game board. a<sub>i,j</sub> is in the range of 0 to 5 representing the color of the corresponding grid. <br>The input ends with N = 0.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output a single integer representing the minimal number of steps to win the game.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2
0 0 
0 0
3
0 1 2
1 1 2
2 2 1
0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">0
3</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2011 Asia Fuzhou Regional Contest &source=1&searchmode=source'> 2011 Asia Fuzhou Regional Contest  </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=4127'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=4127'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=4127">Discuss</a> | <a href='note/note.php?pid=4127'>Note</a><br></td></tr></div></body></html>