<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3821</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Graceful Matrix</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 6000/3000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 240&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 73<br><font color=red>Special Judge</font></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>In Matrix Science, Unit Matrix (UM) is a matrix in which the elements on diagonal are all 1, while others are all 0. <br>Based on Unit Matrix, we define Basic Matrix and Graceful Matrix:<br><br>1.Basic Matrix (BM), BM_i means swap the i-th rows and (i+1)-th rows in the Unit Matrix. (0 based)<br>2.Graceful Matrix (GM), means in every rows and every columns, there is one and only one 1, while others are all 0.<br><br>Now we also have a graceful problem, given a GM whose size is N, you need find a BM sequence. At first, the matrix is a UM, by multiplying the matrix one by one in the BM¡¯s sequence order we can get the GM finally. You needn¡¯t find the shortest sequence, but the sequence¡¯s length can¡¯t exceed the number of elements in GM.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line contains a single integer T, indicating the number of test cases.<br>Each test case begins with an integer N, indicating the GM¡¯s size.<br>Then N lines follow, each line contains N integers, 1 or 0, indicating the GM.<br>You can assume the input Matrix is always graceful.<br><br>Technical Specification<br><br>1. 1 &lt;= T &lt;= 50<br>2. 2 &lt;= N &lt;= 1000</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output the case number first, then the length of the sequence T your answer will give. Then follow T integers Ai, indicating BM_Ai, the sequence. If the length is zero, just output a blank line. <br>Make sure your output BM_Ai never exceeds the Input N minus 1, because it doesn't make any sense.<br>This is a Special Judge problem, so your format should not make any mistake. You can refer to the sample output for more information.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
2
1 0
0 1
2
0 1
1 0
4
0 1 0 0
1 0 0 0
0 0 0 1
0 0 1 0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Case 1: 0

Case 2: 1
0
Case 3: 2
0 2</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>iSea@WHU</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=The 6th Central China Invitational Programming Contest and 9th Wuhan University Programming Contest Final&source=1&searchmode=source'> The 6th Central China Invitational Programming Contest and 9th Wuhan University Programming Contest Final </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3821'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3821'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3821">Discuss</a> | <a href='note/note.php?pid=3821'>Note</a><br></td></tr></div></body></html>