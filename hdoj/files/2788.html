<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 2788</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Stock Exchange</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 60&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 46<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>All stock exchanges in the world have been hit very hardly by the crisis. To keep their profit, they now try to cut down all expenses. Prague Stock Exchange would like to employ new computer software to run their operations.<br><br>Will you help them to develop such a system? Your task is to detect all pairs of buyers and sellers that are able to make a deal together.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The input contains a description of several issuers. Each of them begins with a line containing an integer N, one space, and a code of the stock issuer. After the first one, there are N other lines, each representing one bid. A bid consists of an agent name, one space character, a word specifying the bid type in lowercase letters (either &quot;buy&quot; or &quot;sell&quot;) another space character, and a price given as a decimal number with exactly three digits after the decimal point. All buy bids always specify the maximal price, sell bids list the minimal price for which the agent wants to sell the stocks.<br><br>Every issuer code consist of 1-10 uppercase letters (&quot;A&quot; - &quot;Z&quot;). Agent names have at least 1 and at most 20 characters and may be composed of both lowercase and uppercase letters. For one issuer, all agent names are always unique, but the same agents may post bids for several issuers. The number of bids ( N ) will never exceed 1000. No price will be higher than 10000.<br><br>The last line of the input contains the string &quot;0 END&quot;. </div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each issuer, print its code on a separate line. Then, for each agent's bid (in the same order they were given in the input), output the name of the agent, a colon (&quot;:&quot;), one space, and a list of all agents that are potential counter-parties for the issuer in concern, i.e., one of them wants to buy, the other to sell and the selling price is less or equal to the buying price.<br><br>The agent names must be separated by a space and listed in the same order that was used in the input for that issuer. If there is no matching bid, output the string &quot;NO-ONE&quot; instead.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3 IBM
OneBuyer buy 10.600
TooExpensive sell 12.000
ThisWillWork sell 10.600
4 ACM
one sell 129.999
two buy 130.000
three buy 131.000
four sell 129.888
4 CVUT
seller sell 121.110
toopoor buy 121.109
sellertwo sell 121.111
iamok buy 121.112
0 END</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">IBM
OneBuyer: ThisWillWork
TooExpensive: NO-ONE
ThisWillWork: OneBuyer
ACM
one: two three
two: one four
three: one four
four: two three
CVUT
seller: iamok
toopoor: NO-ONE
sellertwo: iamok
iamok: seller sellertwo</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=CTU Open 2008&source=1&searchmode=source'> CTU Open 2008 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=2788'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=2788'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=2788">Discuss</a> | <a href='note/note.php?pid=2788'>Note</a><br></td></tr></div></body></html>