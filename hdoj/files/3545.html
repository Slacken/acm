<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3545</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Board Coloring</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 10000/10000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 65535/32768 K (Java/Others)<br>Total Submission(s): 116&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 53<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>HH is painting a board of size 4 * N. You can assume the color of square (X, Y) on the board is A<sub>x,y</sub> which is an integer between 0 and 255. For the beauty of the board, HH decide to paint the board following the rules : <br>1) A<sub>x,y</sub> &gt;= A<sub>x,y-1</sub>.<br>2) For some given pairs of (X1, Y1) (X2, Y2), A<sub>X1,Y1</sub> = A<sub>X2,Y2</sub><br>Your task is to calculate how many ways there are to paint the board.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There are multiple test cases, the first line of input contains a single integer denoting the number of test cases.<br>For each test case, the first line contains an integer N and M, denoting the length of the board and the number of additional rules. (1 &lt;= N &lt;= 15, 0 &lt;= M &lt;= 100)<br>For next M lines, each line contains four integers X1, Y1, X2, Y2 denoting one additional rule for the painting. (1 &lt;= X1, X2 &lt;= 4, 1 &lt;= Y1, Y2 &lt;= N)</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test cases, you are to output the number of ways of painting. Because there may be too many ways, you are only to output the last five digits. See sample output for further details.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
1 0
1 3
1 1 2 1
1 1 3 1
4 1 3 1
2 6
1 1 2 1
1 1 3 1
1 1 4 1
1 2 2 2
1 2 3 2
1 2 4 2</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Case 1: 67296
Case 2: 00256
Case 3: 32896</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>HyperHexagon</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=HyperHexagon's Summer Gift (Original tasks)&source=1&searchmode=source'> HyperHexagon's Summer Gift (Original tasks) </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>zhengfeng</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3545'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3545'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3545">Discuss</a> | <a href='note/note.php?pid=3545'>Note</a><br></td></tr></div></body></html>