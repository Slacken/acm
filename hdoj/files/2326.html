<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 2326</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Roman Expressions</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 3000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 65536/32768 K (Java/Others)<br>Total Submission(s): 11&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 4<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>As any other marketing company, ACM produces a lot of funky advertising items that may contain a logo and be given to customers and business partners as small gifts. A unique specialty of ACM is a calculator that uses roman numbers.<br><br>Roman numbers are able to express any non-negative integer using uppercase letters:<br><img src=../../../data/images/2326-1.jpg><br>Numbers are created by appending several letters together, the letter representing a higher value must always precede letters with lower values. The only exception are the letters ¡°I¡±, ¡°X¡±, and ¡°C¡±, they may be used before higher letters to form values expressed by digits 4 and 9. The only possible combinations are:<br><img src=../../../data/images/2326-2.jpg><br>Any roman number must first express thousands, then hundreds, tens, and ones. Therefore, 499 must always be written as ¡°CDXCIX¡±, not ¡°ID¡±.<br><br>Although not very practical, this gift is considered extremely ¡°cooooool¡±. Your task is to write software for that calculator.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The input will consist from commands, each written on a separate line. Possible commands are<br>assignments, ¡°RESET¡±, and ¡°QUIT¡±.<br>An assignment command starts with a single digit representing one of ten registers that the<br>calculator has. The register number is followed by an equal sign (¡°=¡±) and an expression. The<br>expression will consist only from valid roman numbers, register names (digits), plus (¡°+¡±) and<br>minus (¡°-¡±) signs. You may assume that the expression will always be valid and no longer than<br>10000 characters.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each command, output a single line. For assignments, print the register name, equal sign,<br>and the value that is being assigned to that register. Instead of it, print the word ¡°Error¡±, if the<br>expression contains a reference to a register that has not been assigned before, or if the result<br>is negative or larger than 10000. In such cases, no change to register values is made.<br>For RESET commands, invalidate all previous register assignments and print the word ¡°Ready¡±.<br>The QUIT command will be the last one. Print the word ¡°Bye¡± and terminate the program.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1=MC+IV-X
1=1+1
RESET
1=1+X
1=MM
1=1+1+1+1+1
2=1+1
QUIT</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1=MXCIV
1=MMCLXXXVIII
Ready
Error
1=MM
1=MMMMMMMMMM
Error
Bye</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=CTU Open Contest 2007&source=1&searchmode=source'> CTU Open Contest 2007 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>teddy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=2326'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=2326'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=2326">Discuss</a> | <a href='note/note.php?pid=2326'>Note</a><br></td></tr></div></body></html>