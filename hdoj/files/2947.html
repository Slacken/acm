<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 2947</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Bicycle Puzzle</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 149&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 51<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Per and Gunnar has found a wonderful online bicycle picture puzzle fiash solitaire game, and since they are very competitive, they want to find out who is best.<br><br>The purpose of the game is to descramble a picture of a bicycle. At the start of each game, the picture of the bicycle is cut into W times H equally sized rectangles and scrambled randomly.<br><br><center><img src=../../../data/images/con211-1002-1.jpg></center> <br>Then the player repeatedly chooses two arbitrary rectangles and swaps them. He continues to swap rectangles until the picture is complete again. The game keeps track of the number of swaps, which is the score for that particular playthrough.<br><br><br>After Gunnar has played a game, he sends his score (along with W and H) to Per, and challenges Per to beat this score. Per soon realizes that if he is unlucky with the scrambling, it is impossible to beat Gunnar's score.<br><br><br>Per quickly writes a program to find out the probability that he can beat Gunnar's score (assuming that all scrambled pictures are equally probable) if he plays optimally.<br><br><br>But he is not sure whether his program is correct and wants to verify its correctness by challenging you to write the same program.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line of the input consists of a single number T, the number of scenarios. Each scenario is given by a line with three integers W, H and S, where S is Gunnar's last score.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each scenario, output a line with the probability that Per beats Gunnar's score. Format the probability as an irreducible fraction where the numerator and the denominator are separated by /. Output only the numerator if the answer is an integer.<br><br><br>Notes and Constraints<br> 0 &lt; T &lt;= 150<br> 0 &lt; W &lt;= 5<br> 0 &lt; H &lt;= 4<br> 0 &lt;= S &lt;= W * H<br> When comparing two scores, the lowest one is best.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
1 1 1
1 2 1
3 1 2</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1
1/2
2/3</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=IDI Open 2009&source=1&searchmode=source'> IDI Open 2009 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>gaojie</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=2947'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=2947'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=2947">Discuss</a> | <a href='note/note.php?pid=2947'>Note</a><br></td></tr></div></body></html>