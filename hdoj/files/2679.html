<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 2679</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Bloxorz</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 327&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 102<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Bloxorz is an interesting game and someone may have played it before. The rule of this game is simple. <br>This game is played on a platform constructed of many square grids. You have a cuboid whose size is 2×1×1. On the platform there is a 1×1 hole and it‘s your destination. What you have to do is move the cuboids to the hole. During the game you must keep the cuboid on the platform, if any part of cuboid is off the platform, you lose the game.<br>When this game starts, the cuboid stays on the platform. The way to move the cuboid is not sliding but rolling. You can move it in any of the four directions. If you want to move it right, the surfaces next to the original bottom in that direction will be the new bottom. In the following three images, the cuboid moves right twice. <br>Pic-1<br> <img src=../../../data/images/C167-04-01.jpg> <br><img src=../../../data/images/C167-04-02.jpg>   　　　　<img src=../../../data/images/C167-04-3.jpg> </div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>Input contains multiple test cases. Each test case starts with two integers N and M (0&lt;N, M &lt; 20), which stand for number of rows and columns of the platform. Then there comes N lines, describe the platform with ‘#’ for empty cell, ‘^’ for square grid, ‘X’ for the position of cuboid (There maybe two ‘X’, but data guarantee that these two ‘X’s belong to the same cuboid and only one cuboid exists.).<br>Then there comes several lines which stand for order list. Each line only contains uppercase characters and blank. In the list, ‘L’ means moving left, ‘R’ means moving right, ‘U’ means moving up and ‘D’ means moving down. If you meet a ‘Q’, print the whole station of platform. Each case ends with a line a line entitled “END”.<br>ANY MOVE COULD CAUSE YOU TO LOSE THE GAME, YOU SHOULD JUST IGNORE IT.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>Print a blank after each situation.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">5 6
^^^^^^
^X^^^^
^^^^^^
#^^^^^
###^^^
RQ
RQ
END</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">^^^^^^
^^XX^^
^^^^^^
#^^^^^
###^^^

^^^^^^
^^^^X^
^^^^^^
#^^^^^
###^^^</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>CTW</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2009浙江大学计算机研考复试（机试部分）――全真模拟&source=1&searchmode=source'> 2009浙江大学计算机研考复试（机试部分）――全真模拟 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=2679'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=2679'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=2679">Discuss</a> | <a href='note/note.php?pid=2679'>Note</a><br></td></tr></div></body></html>