<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3217</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Health</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 430&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 101<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Unfortunately YY gets ill, but he does not want to go to hospital. His girlfriend LMY gives him N kinds of medicine, which may be helpful. It is not a good idea to take all of them, since taking several different kinds of medicine may have side effect. Formally speaking, for each subset S of the N kinds of medicine (excluding the empty set), it has a health value v(S). If YY chooses to take a combination T of the medicines, the final effect to his illness is the sum of health values of all non-empty subsets of T.<br><br>YY wants to be healthy as quickly as possible, so the final effect of the medicines he takes should be as large as possible. Of course, YY may choose taking nothing to have a zero final effect, if he is too unlucky to achieve a positive one¡­<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>Input contains multiple test cases.<br><br>For each test case, the first line contains a positive integer N (N¡Ü16), the number of different kinds of medicine YY received from LMY.<br><br>The second line contains a single integer M (0¡ÜM¡Ü2N).<br><br>M lines follow, representing a list of health values.<br><br>Each of the M lines contains 2 integers, s (1¡Üs&lt;2N)and v (-10000¡Üv¡Ü10000), indicating a subset of the N kinds of medicine and its health value. Write s in binary representation and add leading zeros if needed to make it exactly N binary digits. If the ith binary digit of s is 1, then the subset it represents includes the ith kind of medicine; otherwise it does not.<br><br>It is guaranteed that no two lines of the list describe the same subset. All non-empty subsets that do not appear in the list have health value 0.<br><br>Input ends with N=0.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output one line with only one integer, the maximum final effect that can be achieved.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2
3
1 10
2 -1
3 100
0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">109</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2009 Shanghai Network Contest Host by DHU&source=1&searchmode=source'> 2009 Shanghai Network Contest Host by DHU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>zhuweicong</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3217'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3217'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3217">Discuss</a> | <a href='note/note.php?pid=3217'>Note</a><br></td></tr></div></body></html>