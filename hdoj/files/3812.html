<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3812</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Sea Sky</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 4000/2000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 569&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 84<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Sea and Sky are the most favorite things of iSea, even when he was a small child.<br>Suzi once wrote: white dew fly over the river, water and light draw near to the sky. What a wonderful scene it would be, connecting the two charming scenery. But iSea cannot ask help from God, or some other deities in China. The only mean he can use is imagination.<br><br>For example, from sea, he can associate with love, from love, he can see sky in (strange logic, aha? leave him alone, we don't really care how he imagine since he is so weird). In this way, he connects &quot;Sea&quot; and &quot;Sky&quot; in mind, fulfills his goal.<br>However, he can only solve the puzzle with small number of words, when the connection increases, his brain will come to be a total mess. Now, can you smart guys help him?<br><br>Now iSea gives you some word pairs he can associate, from any one of them to another. He wishes use the maximum word to make an association list, from ¡°sea¡± to ¡°sky¡±, of course, no word should appear in the list twice because it would lead to an infinite loop. Your task is to find a list, which contains the maximum word and every neighbor word can be connected in mind. If several solutions exist, find the lexicographically minimum one.<br>Lexicographical sequence is the order in one dictionary. For example, ¡°cat¡± is less than ¡°do¡±, and ¡°do¡± is less than ¡°dog¡±.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line contains a single integer T, indicating the number of test cases.<br>Each test case begins with an integer N, then N lines follow, each line contains two words can be connected in mind.<br><br>Technical Specification<br><br>1. 1 &lt;= T &lt;= 50<br>2. 1 &lt;= N &lt;= 100<br>3. The number of different words and the length of words is no more than sixteen.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output the case number first, if cannot finish, output ¡°what a pity¡±. Otherwise, output a word sequence with most words, separated by a blank.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
2
sea love
sky love
7
sea pure
pure air
air white
sky white
pure holy
holy white
sky holy
3
sea blue
sky white
blue green</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Case 1: sea love sky
Case 2: sea pure air white holy sky
Case 3: what a pity</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>iSea@WHU</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=The 6th Central China Invitational Programming Contest and 9th Wuhan University Programming Contest Preliminary&source=1&searchmode=source'> The 6th Central China Invitational Programming Contest and 9th Wuhan University Programming Contest Preliminary </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3812'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3812'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3812">Discuss</a> | <a href='note/note.php?pid=3812'>Note</a><br></td></tr></div></body></html>