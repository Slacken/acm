<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 2468</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Experiment on a ¡­ ¡°Cable¡±</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 15000/5000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 110&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 25<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>The head technical person, Joey, at ACM (Association for Cyberspace Management)has just received a weird cable-like device ¨C supposedly invented by programmers during a competition ¨C for inspection.<br><br>The device may be viewed as a straight bi-directional cable, which can be used for transmitting arbitrary number of data packages simultaneously. The speed with which each package is sent will be pre-determined by the device and furthermore may vary within a certain range; however it will remain constant throughout each package¡¯s entire transmission process. The time it takes for a single data package with speed V to arrive at the opposite end of the cable is thus L/V, where L is the length of the cable.<br><br>In addition, the user may sometimes send a fixed-speed ¡°detector¡± package,<br>which is capable of reporting the number of data packages alongside itself at any time.<br><br>Finding this device highly amusing, Joey decides to perform an experiment on the odd ¡°cable¡±. He has scheduled N packages to be sent from the left side and another M to be sent from the other side of the cable; also, he has calculated the possible speed range for each data package. With this information in hand, Joey wants to estimate the effectiveness of a detector he will send. For a detector that departs at a certain time, its effectiveness can be represented as a real number in the range [0..1], which is simply the ratio of the time during which the detector has a chance of reporting all N + M packages (explained below) to the total time.<br><br>If Joey sends the detector at an arbitrary time in [S, T] with speed V from the left side of the cable, what is the average effectiveness he can achieve?<br>Note: For a detector to have a chance of reporting all N + M packages at time T<sub>0</sub>, the device must be able to schedule all data packages with such speeds so that all can share the same position with the detector at time T<sub>0</sub>.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There are multiple test cases in the input file.<br>Each test case starts with one integer, L ( 1 ¡Ü L ¡Ü 10<sup>6</sup>), the length of the cable.<br>The next line contains one integer, N, the number of packages Joey will send from the<br>left side, followed by N lines, the i<sup>th</sup> line with three real numbers, MinV<sub>i</sub>, Max<sub>Vi</sub>, and Leave<sub>i</sub>(1¡ÜMinV<sub>i</sub>¡ÜMax<sub>Vi</sub>), which are the minimum speed, maximum speed, and<br>departure time for package i , respectively. Another (M + 1) lines follow, describing the<br>packages departing from the right side. The last line of the input contains three real numbers, S, T and V (T - S ¡Ý 1), whose meanings are described above.<br>The total number of packages Joey sent will be in the interval [1,5000]. It is<br>guaranteed that the speed of any data packet, including that of the detector, will be no less than 0.01; also, all real numbers in the input will be given with at most two digits after the decimal point, and will belong to the interval: [0 , 10<sup>6</sup>].<br>Two successive test cases are separated by a blank line. A case with L = 0<br>indicates the end of the input file, and should not be processed by your program.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>Please print the average effectiveness of the detector¡¯s trip, with precision up to 0.00001.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">5
1
5.00 10.00 2.00
2
10.05 11.50 0.05
1.68 2.00 0.01
3.00 4.00 1000
5
1
1.25 2.50 1.0
0
1.00 5.00 2.50
0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Case #1: 0.00000
Case #2: 0.25000</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2008 Asia Regional Hangzhou&source=1&searchmode=source'> 2008 Asia Regional Hangzhou </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=2468'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=2468'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=2468">Discuss</a> | <a href='note/note.php?pid=2468'>Note</a><br></td></tr></div></body></html>