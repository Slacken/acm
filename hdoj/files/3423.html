<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3423</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Subway upgrade</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 323&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 88<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>As we all know, one of the most important inventions for modern-day public transportation is the subway, which brings much convenience to our daily-life and saves us from the congested traffic.<br>However, to hold the next ACM regional contest, you, as the mayor of city X, decided to upgrade the subway system of that city. There are some stations and roads in the city now, any road has a cost. To save money, you decided not to construct every road, but to make sure that there exist a path between every two stations.<br>Sorry, the mission isn't completed. You know, there are n stations in the city,some contestants visit other stations regularly to admire some so-called big cows. Being naturally averse to spending hours each day on commuting, you should help them to find a place to live for which the total travel time is minimal.<br>Every road has an ID, from 1 to m. If there are multiple approaches leading to the same minimal cost, the mayor prefers the one of which road IDs selected holds the smallest lexicographic order. For instance, rebuilding ID ( 1 3 5) and ID (2 4 5) will both ensure the minimum cost,the mayor will choose the former one.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>First,a number t,indicating the number of the testcases.<br>For every testcase, there is a number n and m,n(1&lt;=n&lt;=50000) indicating the number of cities,whereas m (0&lt;=m&lt;=500000) indicating the number of roads.<br>then m lines follow each lines contains three integers a,b,c.(1&lt;=a,b&lt;=n&amp;&amp;a!=b,1&lt;=c&lt;=10000)which means there is a road from a to b whose cost is c.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>First the minimum cost.If doesn't exist,only output &quot;Poor mayor.&quot;(without quotes)<br>Then output the answer and all the candidate stations.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
3 3
1 2 10
2 3 20
3 1 15
3 1
1 2 15
2 1
1 2 15</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">25
1
50
Poor mayor.
15
1 2
30


Hint:
In the first sample we use road 1 and 3 ,the minimus cost is 10+15=25
and we get a new graph 3-1-2,city 1 is the best answer ,2*10+2*15=50
Whereas the third, we can't get city 1,2,3 connected.
In the last, we choose the road 1,the minimus cost is 15
and we get a new graph 1-2,both city 1 and city 2 are the best answer ,2*15=30</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>daizhenyang@BUPT</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=HDOJ Monthly Contest ¨C 2010.06.05&source=1&searchmode=source'> HDOJ Monthly Contest ¨C 2010.06.05 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3423'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3423'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3423">Discuss</a> | <a href='note/note.php?pid=3423'>Note</a><br></td></tr></div></body></html>