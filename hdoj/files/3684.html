<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3684</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Gunshots</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 10000/5000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 452&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 63<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>President Bartlet was shot!  A group of terrorists shot to the crowd when President Bartlet waved to cheering people after his address. Many people were shot by the irrational bullets. Senior FBI agent Don Epps takes responsibility for this case. According to a series of crime scene investigation, including analyzing shot shells, replaying video from closed-circle television and collecting testimony by witnesses, Don keeps all the information about where and how the terrorists shot to crowd, as well as the location of every single person when the gun shoot happened.  Now he wants to know how many gunshot victims are there in this case.<br><br>Imagine that each target person can be regarded as a polygon (can be concave or self-intersecting) and each gunshot can be regarded as a half-line. The bullet will be stopped by the first person it shoots. A person can be shot in three ways:<br><center><img src=../../data/images/3684-1.gif></center> <br>To simplify the problem, we assume that any two polygons can be completely separated by a line. Also each start point of the gunshot can be separated from each polygon by a line. Now given M people and N gunshots, please work out which person has been shot by each bullet.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There are multiple test cases in the input. The first line of the input file is an integer T demonstrating the number of test cases. (T&lt;=10).<br><br>For each test case, the first line is an integer N, representing the number of people (polygons). Following lines demonstrates the polygons. For the ith polygon (0&lt;=i&lt;N), the first line is an integer Qi, representing the number of edges of this polygon. In each of the following Qi lines, there are two real numbers xi and yi representing a point. Every pair of adjacent points demonstrate an edge of this polygon (i.e. (xi, yi) to (xi+1, yi+1) is an edge, in which 0&lt;=i&lt;Qi-1), and (xQi-1, yQi-1) to (x0, y0) also demonstrates an edge of this polygon. <br><br>Then there is a line contains an integer M representing the number of gunshots. In the following M lines, each line contains four real numbers x, y, dx and dy, representing the start point (x, y) and direction vector (dx, dy) of that gunshot. <br><br>In all test cases, we assume that 0&lt; N&lt;=100, 0&lt;Qi&lt;=1000, 0&lt;M&lt;=10000. <br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output contains M lines and the i<sup>th</sup> line demonstrates the result of the i<sup>th</sup> gunshot. <br><br>If the i<sup>th</sup> gunshot shoots the j<sup>th</sup> polygon, the i<sup>th</sup> line contains ¡°HIT j¡±, otherwise it contains a word ¡°MISS¡± (means that it does not shoot any target). The polygons are numbered in the order of their appearance in the input file, and the numbers start from 0. <br><br>At the end of each test case, please output a single line with ¡°*****¡±. <br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1
1
4
0 0
1 1
0 1
1 0
2
-1 0 1 0
-2 0 -1 0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">HIT 0
MISS
*****

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>The figure of the first case in the samples is as follows:
<center><img src='../../data/images/3684-2.gif'></center> </div><i style='font-size:1px'> </i></div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2010 Asia Hangzhou Regional Contest &source=1&searchmode=source'> 2010 Asia Hangzhou Regional Contest  </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy&amp;zhengfeng</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3684'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3684'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3684">Discuss</a> | <a href='note/note.php?pid=3684'>Note</a><br></td></tr></div></body></html>