<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3898</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Indeed Quick Sort</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 45000/15000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 65536/65536 K (Java/Others)<br>Total Submission(s): 77&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 11<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Quicksort is a sorting algorithm developed by Tony Hoare that, on average, makes O (nlogn) comparisons to sort n items in list T.<br>Given a list T, the steps are as follows:<br>1. Randomly pick an element X in list T, called a pivot.<br>2. Reorder the list so that all elements with values less than the pivot come before the pivot, while all elements with values greater than the pivot come after it (equal values can go either way). After this partitioning, the pivot is in its final position. This is called the partition operation.<br>3. Recursively sorts the sub-list of lesser elements and the sub-list of greater elements.<br>Here we define the cost C of sorting list T to be the sum of the following three parts:<br>1. The number of elements greater than X on X's left.<br>2. The number of elements lesser than X on X's right.<br>3. The cost of recursively sorting the sub-lists.<br>Could you please tell me what is the expected value of the cost C?</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There are multiple test cases. In each test case, the integer N (N&lt;=15000) in the first line gives the number of elements, followed by N integers in the second line describing the elements in the list.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, print the expected value of cost (rounded after 6 digits after the decimal point) in a single line.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
1 2 3</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">0.000000</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2011 Multi-University Training Contest 6 - Host by JLU&source=1&searchmode=source'> 2011 Multi-University Training Contest 6 - Host by JLU </a> </div> <div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3898'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3898'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3898">Discuss</a> | <a href='note/note.php?pid=3898'>Note</a><br></td></tr></div></body></html>