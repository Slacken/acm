<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3255</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Farming</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 12000/6000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 65536/65536 K (Java/Others)<br>Total Submission(s): 522&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 133<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>You have a big farm, and you want to grow vegetables in it. You're too lazy to seed the seeds yourself, so you've hired n people to do the job for you.<br>Each person works in a rectangular piece of land, seeding one seed in one unit square. The working areas of different people may overlap, so one unit square can be seeded several times. However, due to limited space, different seeds in one square fight each other -- finally, the most powerful seed wins. If there are several &quot;most powerful&quot; seeds, one of them win (it does not matter which one wins).<br><br>There are m kinds of seeds. Different seeds grow up into different vegetables and sells for different prices. <br>As a rule, more powerful seeds always grow up into more expensive vegetables.<br>Your task is to calculate how much money will you get, by selling all the vegetables in the whole farm.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line contains a single integer T (T &lt;= 10), the number of test cases. <br>Each case begins with two integers n, m (1 &lt;= n &lt;= 30000, 1 &lt;= m &lt;= 3).<br>The next line contains m distinct positive integers p<sub>i</sub> (1 &lt;= p<sub>i</sub> &lt;= 100), the prices of each kind of vegetable. <br>The vegetables (and their corresponding seeds) are numbered 1 to m in the order they appear in the input. <br>Each of the following n lines contains five integers x1, y1, x2, y2, s, indicating a working seeded a rectangular area with lower-left corner (x1,y1), upper-right corner (x2,y2), with the s-th kind of seed.<br>All of x1, y1, x2, y2 will be no larger than 10<sup>6</sup> in their absolute values.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, print the case number and your final income.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2
1 1
25
0 0 10 10 1
2 2
5 2
0 0 2 1 1
1 0 3 2 2</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Case 1: 2500
Case 2: 16</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2009 Asia Regional Ningbo Online&source=1&searchmode=source'> 2009 Asia Regional Ningbo Online </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>wujianhua</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3255'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3255'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3255">Discuss</a> | <a href='note/note.php?pid=3255'>Note</a><br></td></tr></div></body></html>