<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3810</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>Magina</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 60000/30000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 202&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 66<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Magina, also known as Anti-Mage, is a very cool hero in DotA (Defense of the Ancient).<br><img src=http://acm.hdu.edu.cn/data/images/C344-1002-1.png><br>If you have no idea of him, here is some brief introduction of his legendary antecedents:<br>Twin sons to the great Prophet, Terrorblade and Magina were blessed with divine powers: Terrorblade granted with an unnatural affinity with life forces; Magina gifted with energy manipulation. Magina's eventual overexposure to the magic gradually augmented his elemental resistances and bestowed him the unique ability to move faster than light itself. Now, broken by Terrorblade's fall to the dark side, Magina answers the Sentinel's call in a desperate bid to redeem his brother. Every bitter strike turns the Scourge's evil essences upon themselves, culminating in a finale that forces his enemy to awaken to the void within and spontaneously implode.<br>Magina has a very IMBA (imbalanced) skill ¨C Blink, yes, move from one place to another place in a wink. Our problem begins at there.<br>As a formidable hero in the later stage, Magina always farm with the wild monsters for a long time. To make the farming more efficient, Magina use Blink frequently to jump here and there. Here we assume Blink skill has no CD, that is, we can use this skill at any time we want.<br>There are N spots of the wild monsters, and Magina can choose any one to begin. For every spots, Magina may use Ti time to kill the monsters and gain Gi units money, or he choose blink to other spots, which is known to our brilliant Magina. If the monsters in a spot were killed, it won¡¯t appear any more.<br>Now Magina want to get M units money to but some excellent equipment, say Battle Fury for example. As a hero to save the world, there is no much time left for Magina, he wonders the minimum time for him to gain at least M units money. </div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line contains a single integer T, indicating the number of test cases.<br>Each test case begins with two integers N, M. Their meanings are the same as the description.<br>Then N blocks follow, each one describes a spot of wild monsters.<br>The first line of each block is there integers Ti, Gi and Ki. Ti is the time, Gi is the units of money, Ki is the number of spots Magina can blink to from here.<br>Then Ki integer Cij follow, indicating the spots¡¯ ID Magina can blink to. You may assume no ID would appear twice.<br>The spots are described with ID increasing from 1 to N. Input ensure if you can blink from i to j, you can also blink from j to i.<br><br>Technical Specification<br><br>1. 1 &lt;= T &lt;= 50<br>2. 1 &lt;= N &lt;= 50<br>3. 1 &lt;= Ti &lt;= 10000000<br>4. 1 &lt;= M, Gi &lt;= 1000000000<br>5. 1 &lt;= Ki &lt; N<br>6. 1 &lt;= Cij &lt;= N</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output the case number first, then the minimum time for Magina to gain at least M units money, if can¡¯t, output ¡°<font color=red>Poor Magina, you can't save the world all the time!</font>¡±.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
1 4
2 5 0
1 5
1 4 0
4 10
1 9 0
3 3 1
3
3 3 2
2 4
4 4 1
3</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Case 1: 2
Case 2: Poor Magina, you can't save the world all the time!
Case 3: 10</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>iSea@WHU</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=The 6th Central China Invitational Programming Contest and 9th Wuhan University Programming Contest Preliminary&source=1&searchmode=source'> The 6th Central China Invitational Programming Contest and 9th Wuhan University Programming Contest Preliminary </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3810'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3810'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3810">Discuss</a> | <a href='note/note.php?pid=3810'>Note</a><br></td></tr></div></body></html>