<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 1434</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>幸福列车</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 20000/10000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 131070/65535 K (Java/Others)<br>Total Submission(s): 1253&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 299<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>一批幸福的列车即将从杭州驶向幸福的终点站――温州，身为总列车长的linle有一些奇怪的癖好。<br><br>他会记录下全部乘客的名字（name）和他们的人品值（RP），根据这些将他们排序，并不时地从某辆列车里踢出人品最不好（RP值最低）的一个人，当两个人人品一样不好时，他就会踢出名字难听的人（linle认为按字典顺序，排在越在后面的人名字越难听）。<br><br>当然出于列车行驶需要，他还会不时的发布一些命令，比如让某个乘客上车，合并某两辆列车等。<br><br>linle的上一任秘书***因为不能高效地执行他的这些命令而被炒鱿鱼，他现在正在寻觅新的秘书人选，你能不能胜任呢？（谢绝男士，待遇丰厚~~~）<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>本题包含多组测试，请处理到文件结束。<br>对于每一组测试，第一行包含两个整数 N ，M ，表示一共有N( N&lt;=10000 ) 辆列车，执行M( M&lt;=10000 )次操作。<br>接下来有 N （从1开始记数）辆列车的信息，每辆列车先有一个数字 Xi(1 &lt;= Xi &lt;= 100 )，表示该列车有Xi个乘客，接下来Xi行乘客信息，每个乘客包含名字（20个字符以内，不包含空白符）和人品（0&lt;= RP &lt;=30000）。<br>再接下来有 M 行操作信息，一共有3种操作，分别为<br><br>GETON Xi name RP  表示有一个叫name的人品为RP的人登上第Xi列车<br><br>JOIN Xi Xj          表示有将第Xj辆列车合并到Xi辆列车<br><br>GETOUT Xi        表示从第Xi辆列车踢出一个人品最差的人<br><br>测试数据保证每个操作均合法，即不会将已经被合并到其他列车的列车再进行合并，也不会从一辆空列车里踢出乘客<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>对于每个 GETOUT 命令，输出被踢出的那个人的名字<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3 5
2
xhd 0
zl 1
2
8600 1
ll 2
1
Ignatius 3
GETOUT 1
JOIN 1 2
GETOUT 1
GETON 3 hoho 2
GETOUT 3</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">xhd
zl
hoho

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
Huge input, scanf is recommended. 
</div><i style='font-size:1px'> </i></div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>linle</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key= ACM暑期集训队练习赛（四）&source=1&searchmode=source'>  ACM暑期集训队练习赛（四） </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=1434'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=1434'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=1434">Discuss</a> | <a href='note/note.php?pid=1434'>Note</a><br></td></tr></div></body></html>