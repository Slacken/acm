<!DOCTYPE html><html><head><link rel="stylesheet" type=text/css href="../style.css" /><title>Problem 3849</title></head><body><div id="content"><tr><td align=center><h1 style='color:#1A5CC8'>By Recognizing These Guys, We Find Social Networks Useful</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 125536/65536 K (Java/Others)<br>Total Submission(s): 677&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 180<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Social Network is popular these days.The Network helps us know about those guys who we are following intensely and makes us keep up our pace with the trend of modern times.<br>But how?<br>By what method can we know the infomation we wanna?In some websites,maybe Renren,based on social network,we mostly get the infomation by some relations with those &quot;popular leaders&quot;.It seems that they know every lately news and are always online.They are alway publishing breaking news and by our relations with them we are informed of &quot;almost everything&quot;.<br>(Aha,&quot;almost everything&quot;,what an impulsive society!)<br>Now,it's time to know what our problem is.We want to know which are the key relations make us related with other ones in the social network.<br>Well,what is the so-called key relation?<br>It means if the relation is cancelled or does not exist anymore,we will permanently lose the relations with some guys in the social network.Apparently,we don't wanna lose relations with those guys.We must know which are these key relations so that we can maintain these relations better.<br>We will give you a relation description map and you should find the key relations in it.<br>We all know that the relation bewteen two guys is mutual,because this relation description map doesn't describe the relations in twitter or google+.For example,in the situation of this problem,if I know you,you know me,too.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The input is a relation description map.<br>In the first line,an integer t,represents the number of cases(t &lt;= 5).<br>In the second line,an integer n,represents the number of guys(1 &lt;= n &lt;= 10000) and an integer m,represents the number of relations between those guys(0 &lt;= m &lt;= 100000).<br>From the second to the (m + 1)the line,in each line,there are two strings A and B(1 &lt;= length[a],length[b] &lt;= 15,assuming that only lowercase letters exist).<br>We guanrantee that in the relation description map,no one has relations with himself(herself),and there won't be identical relations(namely,if &quot;aaa bbb&quot; has already exists in one line,in the following lines,there won't be any more &quot;aaa bbb&quot; or &quot;bbb aaa&quot;).<br>We won't guarantee that all these guys have relations with each other(no matter directly or indirectly),so of course,maybe there are no key relations in the relation description map.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>In the first line,output an integer n,represents the number of key relations in the relation description map.<br>From the second line to the (n + 1)th line,output these key relations according to the order and format of the input.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1
4 4
saerdna aswmtjdsj
aswmtjdsj mabodx
mabodx biribiri
aswmtjdsj biribiri</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1
saerdna aswmtjdsj</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2011 Invitational Contest Host by BUPT&source=1&searchmode=source'> 2011 Invitational Contest Host by BUPT </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>chenyongfu</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3849'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3849'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3849">Discuss</a> | <a href='note/note.php?pid=3849'>Note</a><br></td></tr></div></body></html>