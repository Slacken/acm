<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3468</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Treasure Hunting</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 4000/2000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 131072/65536 K (Java/Others)<br>Total Submission(s): 605&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 158<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Do you like treasure hunting? Today, with one of his friend, iSea is on a venture trip again. As most movie said, they find so many gold hiding in their trip.<br>Now iSea¡¯s clever friend has already got the map of the place they are going to hunt, simplify the map, there are three ground types:<br><br>¡ñ    '.'   means blank ground, they can get through it<br>¡ñ    '#'   means block, they can¡¯t get through it<br>¡ñ    '*'   means gold hiding under ground, also they can just get through it (but you won¡¯t, right?)<br><br>What makes iSea very delighted is the friend with him is extraordinary justice, he would not take away things which doesn¡¯t belong to him, so all the treasure belong to iSea oneself! <br>But his friend has a request, he will set up a number of rally points on the map, namely 'A', 'B' ... 'Z', 'a', 'b' ... 'z' (in that order, but may be less than 52), they start in 'A', each time friend reaches to the next rally point in the shortest way, they have to meet here (i.e. iSea reaches there earlier than or same as his friend), then start together, but you can choose different paths. Initially, iSea¡¯s speed is the same with his friend, but to grab treasures, he save one time unit among each part of road, he use the only one unit to get a treasure, after being picked, the treasure¡¯s point change into blank ground.<br>Under the premise of his friend¡¯s rule, how much treasure iSea can get at most?<br><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There are several test cases in the input.<br><br>Each test case begin with two integers R, C (2 ¡Ü R, C ¡Ü 100), indicating the row number and the column number.<br>Then R strings follow, each string has C characters (must be ¡®A¡¯ ¨C ¡®Z¡¯ or ¡®a¡¯ ¨C ¡®z¡¯ or ¡®.¡¯ or ¡®#¡¯ or ¡®*¡¯), indicating the type in the coordinate.<br><br>The input terminates by end of file marker.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output one integer, indicating maximum gold number iSea can get, if they can¡¯t meet at one or more rally points, just output -1.<br><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2 4
A.B.
***C
2 4
A#B.
***C</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1
2</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Author</div> <div class=panel_content>iSea @ WHU</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2010 ACM-ICPC Multi-University Training Contest£¨3£©¡ª¡ªHost by WHU&source=1&searchmode=source'> 2010 ACM-ICPC Multi-University Training Contest£¨3£©¡ª¡ªHost by WHU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>zhouzeyong</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3468'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3468'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3468">Discuss</a> | <a href='note/note.php?pid=3468'>Note</a><br></td></tr></div></body></html>