<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3014</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Counting Problem</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 264&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 42<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content><center><img src=../../../data/images/exe3014-1.JPG></center>   <br> See the 2 X 2 board above. AekdyCoin gets a N X N chessboard recently. But he think the color of the chessman is too dull (Only White and Black!).So AekdyCoin buys different kind of chessmen with different color, say blue, pink, yellow ¡­Now AekdyCoin buys K kind of chessmen with different color, and the number of each kind is exactly Ai.<br><br><br>    Now AekdyCoin begins to play with these chessmen. He wants to put all the chessmen he bought on the board, and of course every grid could only contain one single chessman.The Figure 2 shows a valid situation ,in this figure, AekdyCoin bought two kind of chessmen and the number of each is one.<br><center><img src=../../../data/images/exe3014-2.JPG></center><br>    As we know, AekdyCoin is very clever. So he think about this question:What is the number of ways he could put all chessmen he bought on the N X N board?<br><br>    After a several seconds , AekdyCoin gets a perfect idea about how to solve this problem. What about you?<br><br>    Two situation are regard the same in Figure 3, but the different in Figure 4.<br><center><img src=../../../data/images/exe3014-3.JPG></center><br>But the ways that you can get by flip or circumrotate is not regard as the same!</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The input consists of several test cases, but no more than 20.<br><br>    There are two integers N, M in the first line of each case indicate the size of the board and M. You should output the remainder of answer after divided by M. (1&lt;=N &lt;=5000, 1&lt;=M&lt;=2*10^9)<br><br>    The next line contain only one integer K indicates the kind of the chessmen AekdyCoin bought. (1&lt;=k&lt;=100)<br><br>    Then the next line has exactly K integer where the i-th integer Ai indicate the number of the i-th kind of chessmen AekdyCoin bought.(1&lt;=Ai&lt;=5000)</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>Output a single line indicates the reaminder of answer after divided by M. </div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2 100
1
1
2 100
1
2</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">4
6</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2009 Multi-University Training Contest 12 - Host by FZU&source=1&searchmode=source'> 2009 Multi-University Training Contest 12 - Host by FZU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>gaojie</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3014'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3014'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3014">Discuss</a> | <a href='note/note.php?pid=3014'>Note</a><br></td></tr></div></body></html>