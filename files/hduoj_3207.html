<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3207</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Highway</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 20000/10000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 235&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 23<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>As we all know, every day, there are hundreds of trucks passing through the highway. As some of the trucks might carry several tons of goods, the highway will be damaged unless it is frequently repaired. The administration of highway is worried about this, so it invented repairing cars to ensure that the cars can pass through the highway.<br><br>The highway has an initial durability. If a truck with x tons¡¯ goods pass the highway, its durability will be decreased by x. Once the highway¡¯s durability is less or equal to zero, it will be broken and can never be repaired. The trucks can¡¯t pass through the broken ones.<br><br>There are two kinds of repairing cars: T1 can increase the highway¡¯s durability by r, T2 can increase the highway¡¯s durability to p, if the highway¡¯s durability is less than p. Although the repairing cars can pass through the broken parts, the broken parts can¡¯t be repaired.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The input consists of several test cases.<br><br>For every test case, there are three integers N (1&lt;=N&lt;=100000), M (1&lt;=M&lt;=100000), I (1&lt;=I&lt;=1000) in the first line, indicating the highway¡¯s length, the numbers of cars and the initial durability of the highway.<br><br>Each of the next M lines described the information of cars in the following format:<br>1 s t d -- There is a truck with d tons¡¯ goods wanted to pass the interval [s, t]. You should check whether the truck can pass it. Notice that if the truck can't pass the whole interval, it will give up the whole passing; otherwise it can pass the highway freely, even if the highway will be broken after the truck¡¯s passing.<br>2 s t r -- A T1 car will pass the interval [s, t] and increase its durability by r.<br>3 s t p -- A T2 car will pass the interval [s, t] and increase its durability to p.<br>You can assume that 1&lt;=s&lt;=t&lt;=N, 1&lt;=d, p, r&lt;=1000<br><br>The input ends with N=M=I=0.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each case, you should return how many trucks can successfully pass the interval.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">5 5 5
1 1 3 3
2 2 3 10
1 1 3 3
1 1 3 1
1 2 3 1
5 3 10
1 1 2 5
1 2 3 5
1 1 3 5
0 0 0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3
2
<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div>
In the second test case, the third truck can¡¯t pass the road, because although the durability of interval [1, 2) and (2, 3] is larger than 0, in position 2, the durability is 0.

</div><i style='font-size:1px'> </i></div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2009 Shanghai Invitation Contest Host by DHU&source=1&searchmode=source'> 2009 Shanghai Invitation Contest Host by DHU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>zhuweicong</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3207'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3207'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3207">Discuss</a> | <a href='note/note.php?pid=3207'>Note</a><br></td></tr></div></body></html>