<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 2481</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Toy</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 16000/8000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 273&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 129<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>On birthday, Anthony got a toy. It is constructed with N+1(N&gt;=3) balls and 2*N sticks. All balls are in a same plane. One of them is special, while the other N balls are connected to it by N sticks with the same length. The angles between any two adjacent sticks are equal. And finally, any two adjacent balls(except the central one) are connected by a stick.<br>&nbsp;&nbsp;Here are two examples:<br><img src=../../data/images/C165-1008-1.jpg><br>Anthony wanted to remove N sticks, leaving all balls still connected. He wanted to know the number of all legal solutions. Your task is to solve this problem for him. <br>&nbsp;&nbsp;Notice that if a solution will be the same as another one by rotation, these two solutions should be consider as the same. <br>The answer may be quite large. You just need to calculate the remainder of the answer when divided by M.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>Input contains several test cases. <br>For each test case, there is only one line containing two integers N and M(3&lt;=N&lt;=10^9, 2&lt;=M&lt;=10^9). <br>Input is terminated by EOF.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each case, output one integer in one line, representing the remainder of the number of all solutions when divided by M.<br><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">3 10000
4 10000
4 10</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">6
13
3</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2008 Asia Regional Chengdu&source=1&searchmode=source'> 2008 Asia Regional Chengdu </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=2481'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=2481'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=2481">Discuss</a> | <a href='note/note.php?pid=2481'>Note</a><br></td></tr></div></body></html>