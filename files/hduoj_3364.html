<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3364</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Lanterns</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 65536/65536 K (Java/Others)<br>Total Submission(s): 574&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 200<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Alice has received a beautiful present from Bob. The present contains n lanterns and m switches. Each switch controls some lanterns and pushing the switch will change the state of all lanterns it controls from off to on or from on to off. A lantern may be controlled by many switches. At the beginning, all the lanterns are off. <br><br>Alice wants to change the state of the lanterns to some specific configurations and she knows that pushing a switch more than once is pointless. Help Alice to find out the number of ways she can achieve the goal. Two ways are different if and only if the sets (including the empty set) of the switches been pushed are different.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line contains an integer T (T&lt;=5) indicating the number of test cases.<br>The first line of each test case contains an integer n (1&lt;=n&lt;=50) and m (1&lt;=m&lt;=50).<br>Then m lines follow. Each line contains an integer k (k&lt;=n) indicating the number of lanterns this switch controls.<br>Then k integers follow between 1 and n inclusive indicating the lantern controlled by this switch.<br>The next line contains an integer Q (1&lt;=Q&lt;=1000) represent the number of queries of this test case.<br>Q lines follows. Each line contains n integers and the i-th integer indicating that the state (1 for on and 0 for off) of the i-th lantern of this query.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, print the case number in the first line. Then output one line containing the answer for each query.<br>Please follow the format of the sample output.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2
3 2
2 1 2
2 1 3
2
0 1 1
1 1 1
3 3
0
0
0
2
0 0 0
1 0 0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Case 1:
1
0
Case 2:
8
0</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=“光庭杯”第五届华中北区程序设计邀请赛 暨 WHU第八届程序设计竞赛&source=1&searchmode=source'> “光庭杯”第五届华中北区程序设计邀请赛 暨 WHU第八届程序设计竞赛 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3364'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3364'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3364">Discuss</a> | <a href='note/note.php?pid=3364'>Note</a><br></td></tr></div></body></html>