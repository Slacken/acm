<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3431</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Papa</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 26&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 7<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>While cleaning your parents' attic, you discovered a box containing many documents describing the relationships among your ancestors. Given these documents, you are interested in answering a number of questions about the relationships implied by the document. Fortunately, all your ancestors have unique names so it is possible to make many inferences without any confusion.<br><br>It is assumed that all relationships (implied or given) satisfy the following:<br><br>    *A person can be either male, female, or have an unknown (undetermined by the data set) sex;<br>    *a person can have at most one spouse (of the opposite sex), and X is Y's wife if and only if Y is X's husband;<br>    *a person can have at most one mother and at most one father that can be inferred from the given data;<br>    *if a person has a mother and father, then the mother and father are married;<br>    *the children of a person's spouse are that person's children as well;<br>    *the spouse of a son (or daughter) is not considered to be a daughter (or son). In other words, &quot;sons&quot; and &quot;daughters&quot; refer to biological sons and daughters.<br><br>The information provided will be consistent, and you may assume there are no hidden relationships that are not explicitly stated or implied by the above rules of consistency.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first part of the input consists of a number of lines describing the known relationships. Each relationship is listed on one line in the form:<br><br>NAME is NAME's RELATIONSHIP.<br><br>where NAME is a lowercase alphabetic word (never 'is'), and RELATIONSHIP is one of<br><br>    *wife<br>    *husband<br>    *daughter<br>    *son<br>    *mother<br>    *father<br><br>This first part is terminated by a blank line. You may assume that there is at least one known relationship given, and there are at most 100 distinct names mentioned in the known relationships.<br><br>This is followed by a list of questions (one per line) of the form:<br>is NAME NAME's RELATIONSHIP?<br>where NAME is as before, but RELATIONSHIP is one of<br><br>    *wife<br>    *husband<br>    *daughter<br>    *son<br>    *mother<br>    *father<br>    *niece: X is a niece of Y if there are W and Z such that X is a daughter of  W, and W and Y are distinct children of Z.<br>    *nephew: X is a nephew of Y if there are W and Z such that X is a son of W, and W and Y are distinct children of Z.<br>    *grandfather: X is a grandfather of Y if there is Z such that X is a father of Z, and Z is the father or mother of Y.<br>    *grandmother: X is a grandmother of Y if there is Z such that X is a mother of Z, and Z is the father or mother of Y.<br>    *grandson: X is a grandson of Y if there is Z such that X is a son of Z, and Z is a child of Y.<br>    *granddaughter: X is a granddaughter of Y if there is Z such that X is a daughter of Z, and Z is a child of Y.<br><br>All names appearing in the questions will be mentioned in the list of known relationships. The list of questions is terminated by the end of file.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each question, print on a line yes or no if the answer of the question can be determined, or unknown if the answer may be yes or no because the sex of the relevant person(s) in the question cannot be determined from the known relationships.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">john is mary's husband.
john is tom's father.
mary is jane's mother.
jane is anna's mother.

is mary john's wife?
is jane mary's daughter?
is tom mary's husband?
is anna jane's daughter?</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">yes
yes
no
unknown</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=Rocky Mountain Regional Contest 2009&source=1&searchmode=source'> Rocky Mountain Regional Contest 2009 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>zhouzeyong</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3431'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3431'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3431">Discuss</a> | <a href='note/note.php?pid=3431'>Note</a><br></td></tr></div></body></html>