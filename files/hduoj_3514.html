<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3514</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Queen¡¯s Case</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 10000/5000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 131072/65536 K (Java/Others)<br>Total Submission(s): 121&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 50<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>A small country called Maltius was governed by a queen. The queen was known as an oppressive ruler.People in the country suffered from heavy taxes and forced labor. So some young people decided to form a revolutionary army and fight against the queen. Now, they besieged the palace and have just rushed into the entrance.<br><br>Your task is to write a program to determine whether the queen can escape or will be caught by the army.<br><br>Here is detailed description.<br>¡ñ&nbsp;&nbsp;The palace can be considered as grid squares.<br>¡ñ&nbsp;&nbsp;The queen and the army move alternately. The queen moves first.<br>¡ñ&nbsp;&nbsp;At each of their turns, they either move to an adjacent cell or stay at the same cell.<br>¡ñ&nbsp;&nbsp;Each of them must follow the optimal strategy.<br>¡ñ&nbsp;&nbsp;If the queen and the army are at the same cell, the queen will be caught by the army immediately.<br>¡ñ&nbsp;&nbsp;If the queen is at any of exit cells alone after the army¡¯s turn, the queen can escape from the army.<br>¡ñ&nbsp;&nbsp;There may be cases in which the queen cannot escape but won¡¯t be caught by the army forever,<br>under their optimal strategies.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The input describes a map of the palace. The first line of the input contains two integers W (1 &lt;= W &lt;= 30) and H (1 &lt;=H &lt;= 30), which indicate the width and height of the palace. The following H lines, each of which contains W characters, denote the map of the palace. ¡°Q¡± indicates the queen,¡°A¡± the army,¡°E¡± an exit,¡°#¡± a wall and ¡°.¡± a floor.<br><br>The map contains exactly one ¡°Q¡±, exactly one ¡°A¡± and at least one ¡°E¡±. You can assume both the queen and the army can reach all the exits<br><br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>Output ¡°Queen can escape.¡±, ¡°Army can catch Queen.¡± or ¡°Queen can not escape and Army can not catch Queen.¡± in a line.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2 2
QE
EA
3 1
QAE
3 1
AQE
5 5
..E..
.###.
A###Q
.###.
..E..
5 1
A.E.Q
5 5
A....
####.
..E..
.####
....Q</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Queen can not escape and Army can not catch Queen.
Army can catch Queen.
Queen can escape.
Queen can not escape and Army can not catch Queen.
Army can catch Queen.
Army can catch Queen.

<div style='font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px'><div style='font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed'><i>Hint</i></div><i>On the first sample input, the queen can move to exit cells, but either way the queen will be caught at the next army¡¯s turn. So the optimal 
strategy for the queen is staying at the same cell. Then the army can move to exit cells as well, but again either way the army will miss the queen from 
the other exit. So the optimal strategy for the army is also staying at the same cell. Thus the queen cannot escape but won¡¯t be caught.</i></div><i style='font-size:1px'> </i></div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2010 ACM-ICPC Multi-University Training Contest£¨8£©¡ª¡ªHost by ECNU&source=1&searchmode=source'> 2010 ACM-ICPC Multi-University Training Contest£¨8£©¡ª¡ªHost by ECNU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>zhouzeyong</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3514'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3514'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3514">Discuss</a> | <a href='note/note.php?pid=3514'>Note</a><br></td></tr></div></body></html>