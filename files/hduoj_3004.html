<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3004</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>The Chess</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 335&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 99<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content> Mr Li likes playing chess very much. One day he made a simplified version of the game. The chess board is relatively smaller. He will first place only three kinds of chesses on his own behalf, namely the Chariot(&quot;ju&quot;), the Horse(&quot;ma&quot;) and the Cannon(&quot;pao&quot;). Then he placed some chesses on the opposite's behalf. There will be one and only one chess of the opposite marked as the General(&quot;shuai&quot;). Mr Li wants to kill the General as soon as possible without killing other chesses.<br>    All chesses will move in the same way as in real chess games(The chinese chess).<br>    To make the game easier, the opposite's chesses will stand still.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>For each test case,the first line contains two integers n and m(2&lt;=n,m&lt;=10) indicating the size of the borad. The next n lines, containing m characters each, describe the board. 'C', 'M' and 'P' stand for the Chariot, the Horse and the Cannon on Mr Li's behalf. 'S' stands for the General of the opposite while 'D' stands for other chesses. Cells marked as '.' are empty.<br>Process to the end of file.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content> For each test case, first print a line saying &quot;Scenario #k&quot;, where k is the number of the test case.Then,if Mr Li can kill the General, print the least number of steps needed. Otherwise print the sentence &quot;OH!That's impossible!&quot;.Print a blank line after each test case, even after the last one.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">5 5
..DSD
...D.
C....
P.D..
...M.
7 7
.DDSDD.
..DDD..
...D...
.....P.
.C.....
...M...
.......</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Scenario #1
2

Scenario #2
OH!That's impossible!</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2009 Multi-University Training Contest 11 - Host by HRBEU&source=1&searchmode=source'> 2009 Multi-University Training Contest 11 - Host by HRBEU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>gaojie</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3004'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3004'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3004">Discuss</a> | <a href='note/note.php?pid=3004'>Note</a><br></td></tr></div></body></html>