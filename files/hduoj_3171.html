<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3171</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Rocket Stages</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 4000/2000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 107&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 16<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>Many rockets are made up of several stages to increase efficiency. When the fuel in one stage burns up, the stage can be discarded, reducing the weight of the remaining rocket. The first stage needs a strong engine capable of lifting the whole rocket, while later stages can have smaller engines. <br><br>In this problem, you will determine which stages to put together to maximize the upward velocity of the rocket when all the fuel has burned. <br><br>For each stage, you will be given: <br><ul><li>the mass <i>S</i> of the stage, in kilograms, when it is empty (without fuel), </li><br><li>the mass <i>L</i> of the fuel, in kilograms, in the stage, </li><br><li>the thrust <i>T</i>, in newtons, provided by the engine in the stage, and</li><br><li>the fuel consumption <i>C</i>, in kilograms per second, of the stage.</li></ul>Assume that the rocket points straight upward for the duration of the flight. Two forces act on the rocket: the force of the engine, which is <i>T</i> newtons upwards, and the force of gravity, which is 9.8 <i>M</i> newtons downwards, where <i>M</i> is the total mass of the rocket in kilograms, including fuel. The acceleration of the rocket is <i>F</i> divided by <i>M</i> metres per second per second upwards, where <i>F</i> is the total net force acting on the rocket in newtons, and <i>M</i> is the total mass of the rocket in kilograms, including fuel. As soon as a stage finishes burning, it is immediately discarded and the next stage starts to burn. The final velocity of the rocket is the integral of the net acceleration (due to gravity and the engine) over time. <br><br>Due to safety regulations, the net acceleration of the rocket is never allowed to be downwards, until the rocket runs out of fuel. <br><br>Also due to safety regulations, the total mass of the rocket cannot exceed 10000 kilograms. <br><br>The rocket must have at least one stage.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>The first line of input contains one integer specifying the number of test cases to follow. Each test case begins with a line containing an integer <i>N</i>, the number of rocket stages in the current test case. There will be no more than 1000 stages. This line is followed by <i>N</i> lines, one for each stage. Each of these lines contains the four integers <i>S</i>, <i>L</i>, <i>T</i>, <i>C</i> that describe a stage, as explained above. Each of these integers can be represented by a 32-bit unsigned binary number. The order of the stages as listed must be preserved but some stages (including, possibly, the first stage) may be left out of the rocket. The stage listed first is at the top of the rocket (and will burn last). For every test case in the input, it is always possible to construct at least one rocket satisfying all the requirements of the problem statement.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, output a line containing a single integer, the maximum possible speed in metres per second of the rocket when it has finished burning, rounded to the nearest metre per second.</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1
1
9999 1 1000000 1</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">90</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=University of Waterloo Local Contest 2008.09&source=1&searchmode=source'> University of Waterloo Local Contest 2008.09 </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>chenrui</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3171'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3171'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3171">Discuss</a> | <a href='note/note.php?pid=3171'>Note</a><br></td></tr></div></body></html>