<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3894</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>East and West</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 10000/4000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 125536/65536 K (Java/Others)<br>Total Submission(s): 167&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 43<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>TDB (Tie Dao Bu) is a magical department in TC (Tian Chao), as you all know... Now we have some emergency foods to transport from east TC to west TC. In order to avoid more tragedies, this time it's your turn to act as the role of scheduling the trains...<br>There are N stations numbered from 1 to N in TC, connected by M undirected railways, guaranteeing that any of the two stations are reachable to each other.<br>The east of TC has E (numbered from 1 to E) stations, while the west has W (numbered from N-W+1 to N) stations. Initially, P trains filled with food are waiting at P different stations in the east. Your task is to schedule these trains, thus making them finally stopped at P different stations in the west.<br>Here, the time for a train to pass a single railway is exactly one day. And for safety reasons, each railway can let only one train pass per day. Moreover, a train can stop at any station for an arbitrarily number of days. And each station can hold at most P trains.<br>To simplify, we shall promise that M = N - 1 and N &lt;= 10^6, and there always exists a railway whose removal separates the east and the west.<br>Your task is to make the trains' arrival completed as soon as possible.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There are multiple test cases. For each test case, there will be 4 integers in the first line, namely N, M, E and W, as mentioned above. Each of the next M lines will contain two integers u and v, which indicates a railway between u and v. Then the following line has a single integer P. For the next P lines, each will contain a single integer describing the initial positions for the trains with food.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each test case, print the number of days needed at least to finish the transportation, in a single line.<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">2 1 1 1
1 2
1
1</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">1</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2011 Multi-University Training Contest 6 - Host by JLU&source=1&searchmode=source'> 2011 Multi-University Training Contest 6 - Host by JLU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>chenyongfu</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3894'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3894'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3894">Discuss</a> | <a href='note/note.php?pid=3894'>Note</a><br></td></tr></div></body></html>