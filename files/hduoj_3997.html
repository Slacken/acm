<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 3997</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Super macros</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 2000/1000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 32&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 3<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>SuperHacker is a advanced Hacker. He often write GNU style macros to optimize the programs. One day pooorman gave him a batch of ugly style c code using nested ternary operator (? :), which makes the code difficult to comprehend.<br><br>Now SuperHacker turn to you for help, he have write a program to collect all the ugly code into a file, he send such file to you. Please write a utility to convert such file into a GNU C marcos header file. </div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>Input contains multiple valid (nested) c ternary operator expression. Each will be ended with a semicolon. There will be no empty expressions. </div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each case, generate a GNU C style macro function named with SuperHacker_functionn, n is the case num, which is started from 0. There should be a blank line between each case. Each case should be output as the Sample Output below.<br><br>Each line of the output should be indented well with tab(\t) as Sample output. The trailing line continuing symbol backslashs(\) macro end symbol '})' at the last line of a macro should be right aligned with tabs aligned. Each continuing symbol and macro end symbol '})' should be seperated with the code in such line with at least one tab indent. The tab symbol considered 8 word width.<br><br>To make the macro file includable, you should add some code to prevent multiple including at the begin and end of the output file, Same as the sample output below.<br><br>You should trim the redundancy parenthesis. </div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">a? b: c;
((a)? b: c)?
 (d): e;
  (             		welcome_to_acm_icpc_online_judge		   )		;</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">#ifndef MACROS_H
#define MACROS_H

#define SuperHacker_function0()	\
({	int _r;			\
	if (a)			\
		_r = b;		\
	else			\
		_r = c;		\
	_r;			})

#define SuperHacker_function1()	\
({	int _r;			\
	if (a)			\
	{			\
		if (b)		\
			_r = d;	\
		else		\
			_r = e;	\
	}			\
	else			\
	{			\
		if (c)		\
			_r = d;	\
		else		\
			_r = e;	\
	}			\
	_r;			})

#define SuperHacker_function2()			\
({	int _r;					\
	_r = welcome_to_acm_icpc_online_judge;	\
	_r;					})

#endif /* MACROS_H */</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2011 Multi-University Training Contest 16 - Host by TJU&source=1&searchmode=source'> 2011 Multi-University Training Contest 16 - Host by TJU </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>lcy</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=3997'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=3997'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=3997">Discuss</a> | <a href='note/note.php?pid=3997'>Note</a><br></td></tr></div></body></html>