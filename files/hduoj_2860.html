<!DOCTYPE html><html>
				<head><meta charset=gb2312 />
				<link rel="stylesheet" type=text/css href="../style.css" />
				<script type="text/javascript" src="../js.js"></script>
				<title>Problem 2860</title></head>
				<body><div id="hduoj_c"><tr><td align=center><h1 style='color:#1A5CC8'>Regroup</h1><font><b><span style='font-family:Arial;font-size:12px;font-weight:bold;color:green'>Time Limit: 4000/2000 MS (Java/Others)&nbsp;&nbsp;&nbsp;&nbsp;Memory Limit: 32768/32768 K (Java/Others)<br>Total Submission(s): 478&nbsp;&nbsp;&nbsp;&nbsp;Accepted Submission(s): 114<br></span></b></font><br><br><div class=panel_title align=left>Problem Description</div> <div class=panel_content>When ALPC42 got to a panzer brigade, He was asked to build software to help them regroup the battalions or companies.<br>As the tradition of army, soldiers are rated according his or her abilities, taking the rate as an integer. The fighting capacity of a company is determined by the soldier in this company whose rate is lowest. Now the recruits those rated are coming and join to their companies according to the order form HQ.<br>With the coming of new recruits, a big regroup action reached, asking to merge some companies into one. The designation of a company, however, will not be canceled, but remain for memorialize what the company is done, means the designation of the company is still exist, but the company is gone, so it is unable to ask recruits to join this company, or merge the company into others.<br>A strange thing is, the orders sometimes get wrong, send newbie to a company which is already merged into another, or mentioned some only-designation-existed companies. Such order could be rejected.<br>The brigadier wants to know every change of each order, so the program should able to report the status of every order, telling whether it is accept, and can query the fighting capacity of specified company. (To simplify, companies are numbered from 0 to n-1<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Input</div> <div class=panel_content>There may be several test cases.<br>For each case, the integers in first line, n, k, m, telling that there are n companies, k soldiers already, and m orders needs be executed. (1&lt;=n ,k ,m&lt;=100000).<br>Then k lines with two integers R and C for each, telling a soldier with rate R is now in company C<br>Then m lines followed, containing 3 kinds of orders, in upper case:<br>&nbsp;&nbsp;AP x y<br>A recruit with ability rate x were asked to join company y. (0&lt;=x&lt;2^31, 0&lt;=y&lt;n)<br><br>&nbsp;&nbsp;MG x y<br>Company x and company y is merged. The new company is numbered as x. (0&lt;=x, y&lt;n)<br><br>&nbsp;&nbsp;GT x<br>Report the fighting capacity of company x. (0&lt;=x&lt;n)</div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Output</div> <div class=panel_content>For each order there is exact one line to report the result.<br>For AP and MG order, print ¡°Accept¡± if it is able to be done, and execute it, or ¡°Reject¡± if it is an illegal order.<br>For GT order, if company x is still exist (not merged into others), print as ¡°Lowest rate: y.¡± which y is the minimal rate of soldiers in this company. If there is no one in this company, tell &quot;Company x is empty.&quot; If company x is already merged into others, print &quot;Company x is a part of company z.&quot; z is the company where the company x is in.<br>Print a blank line after each case<br></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Input</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">5 5 10
5 0
5 1
5 2
5 1
5 0
GT 0
GT 3
AP 3 3
GT 3
GT 4
MG 3 4
GT 4
MG 1 3
GT 4
GT 1</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Sample Output</div><div class=panel_content><pre><div style="font-family:Courier New,Courier,monospace;">Lowest rate: 5.
Company 3 is empty.
Accept
Lowest rate: 3.
Company 4 is empty.
Accept
Company 4 is a part of company 3.
Accept
Company 4 is a part of company 1.
Lowest rate: 3.</div></pre></div><div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Source</div> <div class=panel_content> <a href='/search.php?field=problem&key=2009 Multi-University Training Contest 5 - Host by NUDT&source=1&searchmode=source'> 2009 Multi-University Training Contest 5 - Host by NUDT </a> </div> <div class=panel_bottom>&nbsp;</div><br><div class=panel_title align=left>Recommend</div> <div class=panel_content>gaojie</div><div class=panel_bottom>&nbsp;</div><br><center style='font-size:15px;font-family:Arial;font-weight:bold;color:#1A5CC8'><a href='statistic.php?pid=2860'>Statistic</a>&nbsp;|&nbsp;<a href='submit.php?pid=2860'>Submit</a>&nbsp;|&nbsp;<a href="./discuss/problem/list.php?problemid=2860">Discuss</a> | <a href='note/note.php?pid=2860'>Note</a><br></td></tr></div></body></html>